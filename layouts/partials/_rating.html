{{ $stars := .stars }}
<!-- BEGIN rating star -->
{{ if site.Params.rating.enable }}
<div class="rw-ui-container"></div>
{{ end }}
<!-- END rating -->


{{ if site.Params.rating.enable }}
<script type="text/javascript">
  (function (d, t, e, m) {

    // Async Rating-Widget initialization.
    window.RW_Async_Init = function () {

      RW.init({
        huid: "{{ site.Params.rating.websiteID }}",
        uid: "{{ site.Params.rating.publicKey }}",
        source: "website",
        options: {
            "advanced": {
                    "star": {
                        "stars": "{{$stars}}"
                    },
                    "layout": {
                        "lineHeight": "16px",
                        "fontSize": "10px"
                    },
                    "font": {
                        "hover": {
                            "color": "#008EAA"
                        },
                        "color": "#008EAA"
                    },
            },
          "style": "flat_yellow",
          "size": "tiny",
          "isDummy": false
        }
      });
      RW.render();
    };
    // Append Rating-Widget JavaScript library.
    var rw, s = d.getElementsByTagName(e)[0],
      id = "rw-js",
      l = d.location,
      ck = "Y" + t.getFullYear() +
      "M" + t.getMonth() + "D" + t.getDate(),
      p = l.protocol,
      f = ((l.search.indexOf("DBG=") > -1) ? "" : ".min"),
      a = ("https:" == p ? "secure." + m + "js/" : "js." + m);
    if (d.getElementById(id)) return;
    rw = d.createElement(e);
    rw.id = id;
    rw.async = true;
    rw.type = "text/javascript";
    rw.src = p + "//" + a + "external" + f + ".js?ck=" + ck;
    s.parentNode.insertBefore(rw, s);
  }(document, new Date(), "script", "rating-widget.com/"));
</script>
{{ end }}